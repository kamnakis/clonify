(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{157:function(t,e,n){"use strict";var r=n(1),c=n(17);r.default.use(c.b)},158:function(t,e,n){"use strict";e.a=function(t){var e=t.$axios,n=t.redirect;e.onError((function(t){401===parseInt(t.response&&t.response.status)&&n("/login")}))}},205:function(t,e,n){},206:function(t,e,n){},239:function(t,e,n){"use strict";n(44);var r=n(8),c=n(17),o=Object(c.c)({name:"Layout",setup:function(t,e){var n=e.root;return{pathsToHidePlayer:Object(c.g)(["/login","/register","/forgot-password","/reset-password"]),logout:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$auth.logout();case 3:return t.next=5,n.$store.dispatch("player/setTracks",[]);case 5:return t.next=7,n.$store.dispatch("player/setCurrentTrack",null);case 7:localStorage.clear(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.value=t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()}}}),l=(n(277),n(49)),v=n(81),f=n.n(v),d=n(344),x=n(334),m=n(333),_=n(335),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app",[t.pathsToHidePlayer.includes(t.$nuxt.$route.path)?t._e():n("div",{staticClass:"fixed left-0 right-0 top-0 my-8 px-6 flex justify-between items-center text-white z-10"},[n("fa-icon",{staticClass:"text-xl cursor-pointer text-gray-200 text-opacity-50",attrs:{icon:"chevron-left"},on:{click:function(e){return t.$nuxt.$router.back()}}}),t._v(" "),n("div",[t._v(t._s(t.$nuxt.$store.getters["global/pageTitle"]))]),t._v(" "),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,c=e.attrs;return[n("fa-icon",t._g(t._b({staticClass:"text-xl cursor-pointer",attrs:{icon:"ellipsis-h"}},"fa-icon",c,!1),r))]}}],null,!1,754685656)},[t._v(" "),n("v-list",{staticClass:"p-0",attrs:{dense:"","min-width":"6rem"}},[n("v-list-item",{staticClass:"flex items-center",on:{click:function(e){return t.logout()}}},[n("fa-icon",{staticClass:"flex-grow-0",attrs:{icon:["fas","door-open"]}}),t._v(" "),n("div",{staticClass:"ml-4"},[t._v("\n              Logout\n            ")])],1)],1)],1)],1),t._v(" "),t.pathsToHidePlayer.includes(t.$nuxt.$route.path)?t._e():n("Player"),t._v(" "),n("div",{staticClass:"min-h-screen bg-gray-2 flex"},[t.$nuxt.$store.state.auth.loggedIn?n("div",{staticClass:"w-20 flex-grow bg-gray-3 flex flex-col items-center"},[n("div",{staticClass:"w-full flex flex-col justify-center pb-20 space-y-20"},[n("NuxtLink",{attrs:{to:"/explore"}},[n("div",{staticClass:"tab-link"},[t._v("\n              Explore\n            ")])]),t._v(" "),n("NuxtLink",{attrs:{to:"/playlists"}},[n("div",{staticClass:"tab-link"},[t._v("\n              Playlists\n            ")])]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[n("div",{staticClass:"tab-link"},[t._v("\n              Songs\n            ")])])],1)]):t._e(),t._v(" "),n("div",{staticClass:"w-full"},[n("transition",{attrs:{name:"home",mode:"out-in"}},[n("Nuxt")],1)],1)])],1)],1)}),[],!1,null,null,null);e.a=component.exports;f()(component,{Player:n(329).default}),f()(component,{VApp:d.a,VList:x.a,VListItem:m.a,VMenu:_.a})},250:function(t,e,n){n(251),t.exports=n(252)},264:function(t,e,n){"use strict";n.r(e),e.default=function(t){var e=t.store,n=t.redirect;if(e.state.auth.loggedIn)return n("/")}},277:function(t,e,n){"use strict";n(205)},279:function(t,e,n){"use strict";n(206)},307:function(t,e,n){"use strict";n.r(e)},308:function(t,e,n){"use strict";n.r(e),n.d(e,"GlobalMutation",(function(){return r})),n.d(e,"state",(function(){return o})),n.d(e,"getters",(function(){return l})),n.d(e,"mutations",(function(){return v})),n.d(e,"actions",(function(){return f}));var r,c=n(2);!function(t){t.SET_PAGE_TITLE="SET_PAGE_TITLE"}(r||(r={}));var o=function(){return{pageTitle:""}},l={pageTitle:function(t){return t.pageTitle}},v=Object(c.a)({},r.SET_PAGE_TITLE,(function(t,title){t.pageTitle=title})),f={setPageTitle:function(t,title){(0,t.commit)(r.SET_PAGE_TITLE,title)}}},309:function(t,e,n){"use strict";n.r(e),n.d(e,"PlayerMutation",(function(){return c})),n.d(e,"state",(function(){return l})),n.d(e,"getters",(function(){return v})),n.d(e,"mutations",(function(){return f})),n.d(e,"actions",(function(){return d}));var r,c,o=n(2);!function(t){t.SET_CURRENT_TRACK="SET_CURRENT_TRACK",t.SET_TRACKS="SET_TRACKS"}(c||(c={}));var l=function(){return{currentTrack:null,tracks:[]}},v={currentTrack:function(t){return t.currentTrack},tracksCount:function(t){return t.tracks.length},tracks:function(t){return t.tracks}},f=(r={},Object(o.a)(r,c.SET_CURRENT_TRACK,(function(t,track){null!==track?track>=0&&track<t.tracks.length?t.currentTrack=track:track<0?t.currentTrack=t.tracks.length-1:track>=t.tracks.length&&(t.currentTrack=0):t.currentTrack=null})),Object(o.a)(r,c.SET_TRACKS,(function(t,e){t.tracks=e})),r),d={setCurrentTrack:function(t,track){(0,t.commit)(c.SET_CURRENT_TRACK,track)},setTracks:function(t,e){var n=t.commit;n(c.SET_TRACKS,e),n(c.SET_CURRENT_TRACK,0)}}},329:function(t,e,n){"use strict";n.r(e);n(278);var r=n(17),c=Object(r.c)({name:"Player",setup:function(t,e){var n=e.root,c=Object(r.g)(!0),o=Object(r.g)(!0),l=Object(r.g)(null),v=Object(r.a)((function(){return n.$store.getters["player/tracks"][n.$store.getters["player/currentTrack"]]}));Object(r.h)(v,(function(){d.value=!1,x.value=!1,m.value="00:00",_.value="00:00",y.value=0}));var f=Object(r.a)((function(){return v.value?v.value.file.url:null})),d=Object(r.g)(!1),x=Object(r.g)(!1),m=Object(r.g)("00:00"),_=Object(r.g)("00:00"),y=Object(r.g)(0),h=Object(r.g)(0);Object(r.h)(l,(function(){l.value&&(l.value.addEventListener("canplay",(function(){l.value&&(d.value=!0,l.value.play(),x.value=!0)})),l.value.addEventListener("pause",(function(){l.value&&(x.value=!1)})),l.value.addEventListener("play",(function(){l.value&&(x.value=!0)})),l.value.addEventListener("ended",(function(){l.value&&C()})),l.value.addEventListener("durationchange",(function(){l.value&&(_.value=new Date(1e3*Math.trunc(l.value.duration)).toISOString().substr(14,5))})),l.value.addEventListener("timeupdate",(function(){l.value&&(m.value=new Date(1e3*Math.trunc(l.value.currentTime)).toISOString().substr(14,5),y.value=100*l.value.currentTime/l.value.duration)})))}));Object(r.h)(h,(function(){l.value&&(l.value.currentTime=h.value*l.value.duration/100)}));var C=function(){n.$store.dispatch("player/setCurrentTrack",null!==n.$store.getters["player/currentTrack"]?n.$store.getters["player/currentTrack"]+1:null)};return{isMinimized:c,isFavorite:o,audioPlayer:l,currentSong:v,audioTrack:f,isSongPlaying:x,sliderDuration:h,changeSliderDuration:function(t){h.value=t},totalSeconds:_,currentSeconds:m,timePercent:y,playSong:function(){l.value&&d.value&&l.value.play()},pauseSong:function(){l.value&&d.value&&l.value.pause()},stopSong:function(){l.value&&d.value&&(l.value.currentTime=0,l.value.pause())},apiUrl:"https://clonify-strapi.herokuapp.com",nextSong:C,prevSong:function(){n.$store.dispatch("player/setCurrentTrack",null!==n.$store.getters["player/currentTrack"]?n.$store.getters["player/currentTrack"]-1:null)}}}}),o=(n(279),n(49)),l=n(81),v=n.n(l),f=n(346),d=n(330),x=n(343),m=n(235),_=n.n(m),y=n(217),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fixed inset-0 z-20",class:{"pointer-events-none":t.isMinimized}},[n("audio",{ref:"audioPlayer",staticClass:"hidden",attrs:{src:t.audioTrack}}),t._v(" "),n("transition",{attrs:{name:"rotate"}},[t.isMinimized?t._e():n("div",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){t.prevSong()},right:function(){t.nextSong()},down:function(){t.isMinimized=!0}},expression:"{\n        left: () => { prevSong() },\n        right: () => { nextSong() },\n        down: () => { isMinimized = true }\n      }"}],staticClass:"relative w-full h-full"},[n("div",{staticClass:"absolute half-bg bottom-0 h-full w-full d-flex flex-column pb-40"},[n("div",{staticClass:"w-full mt-8 px-6 flex justify-start items-center text-gray-2"},[n("fa-icon",{staticClass:"text-xl cursor-pointer",attrs:{icon:"chevron-left"},on:{click:function(e){t.isMinimized=!0}}})],1),t._v(" "),n("div",{staticClass:"mt-8 mx-auto rounded-4xl bg-green-1 flex items-center justify-center overflow-hidden flex-grow-0",staticStyle:{width:"18rem",height:"18rem"}},[t.currentSong?n("v-img",{staticClass:"w-full h-full object-cover object-center",attrs:{src:t.currentSong.artist.profile_image.url,gradient:"to top right, rgba(132, 218, 165, 0.33), rgba(69, 128, 92, 0.66)"}}):t._e()],1),t._v(" "),n("div",{staticClass:"w-full px-10 mt-8 flex justify-between items-start text-gray-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isFavorite,expression:"isFavorite"}],staticClass:"hidden",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isFavorite)?t._i(t.isFavorite,null)>-1:t.isFavorite},on:{change:function(e){var n=t.isFavorite,r=e.target,c=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.isFavorite=n.concat([null])):o>-1&&(t.isFavorite=n.slice(0,o).concat(n.slice(o+1)))}else t.isFavorite=c}}}),t._v(" "),n("fa-icon",{staticClass:"text-xl cursor-pointer text-green-1",attrs:{icon:[t.isFavorite?"fa":"far","heart"]}})],1),t._v(" "),t.currentSong?n("div",{staticClass:"text-center font-bold text-black text-lg leading-6"},[t._v("\n            "+t._s(t.currentSong.title)),n("br"),t._v(" "),n("span",{staticClass:"text-gray-600 font-normal text-sm"},[t._v("\n              "+t._s(t.currentSong.artist.first_name+" "+t.currentSong.artist.last_name)+"\n            ")])]):t._e(),t._v(" "),n("fa-icon",{staticClass:"text-xl cursor-pointer text-gray-2",attrs:{icon:"times"},on:{click:function(e){return t.stopSong()}}})],1),t._v(" "),n("div",{staticClass:"w-full px-10 flex justify-center"},[n("v-slider",{attrs:{value:t.timePercent,dense:"",min:"0",max:"100","track-color":"gray","track-fill-color":"#84DAA5","thumb-color":"#84DAA5"},on:{change:t.changeSliderDuration}})],1),t._v(" "),n("div",{staticClass:"w-full px-12 flex justify-between -mt-6"},[n("div",[t._v(t._s(t.currentSeconds))]),t._v(" "),n("div",[t._v(t._s(t.totalSeconds))])])]),t._v(" "),n("div",{staticClass:"absolute bottom-0 w-full"},[n("div",{staticClass:"reverse-rounded w-full bg-gray-2 h-40 pt-8 px-6 flex items-center justify-around transition-opacity duration-400",style:{opacity:t.isMinimized?"0":"1"}},[n("fa-icon",{staticClass:"text-white text-2xl cursor-pointer",class:{"cursor-default pointer-events-none text-gray-200 text-opacity-50":t.$nuxt.$store.getters["player/tracksCount"]<=1},attrs:{icon:"step-backward"},on:{click:function(e){return t.prevSong()}}}),t._v(" "),n("v-progress-circular",{staticClass:"text-green-1 cursor-pointer",attrs:{rotate:-90,size:60,width:5,value:t.timePercent},on:{click:function(e){t.isSongPlaying?t.pauseSong():t.playSong()}}},[n("div",{staticClass:"w-full h-full flex items-center justify-center"},[t.isSongPlaying?n("fa-icon",{staticClass:"text-lg",attrs:{icon:"pause"}}):n("fa-icon",{staticClass:"text-lg",attrs:{icon:"play"}})],1)]),t._v(" "),n("fa-icon",{staticClass:"text-white text-2xl cursor-pointer",class:{"cursor-default pointer-events-none text-gray-200 text-opacity-50":t.$nuxt.$store.getters["player/tracksCount"]<=1},attrs:{icon:"step-forward"},on:{click:function(e){return t.nextSong()}}})],1)])])]),t._v(" "),n("transition",{attrs:{name:"slide"}},[t.isMinimized&&null!==t.$store.getters["player/currentTrack"]?n("div",{directives:[{name:"touch",rawName:"v-touch",value:{up:function(){t.isMinimized=!1}},expression:"{\n        up: () => { isMinimized = false }\n      }"}],staticClass:"fixed bottom-0 w-full bg-green-1 rounded-t-4xl px-8 flex items-center justify-between",class:{"pointer-events-auto":t.isMinimized},style:{height:"7rem"}},[n("div",{staticClass:"h-16 w-16 rounded-3xl bg-gray-500 overflow-hidden",on:{click:function(e){t.isMinimized=!1}}},[t.currentSong?n("v-img",{staticClass:"w-full h-full object-cover object-center cursor-pointer",attrs:{src:t.currentSong.artist.profile_image.url}}):t._e()],1),t._v(" "),t.currentSong?n("div",{staticClass:"flex flex-col ml-6"},[n("div",{staticClass:"text-xs text-gray-2"},[t._v("\n          Now Playing\n        ")]),t._v(" "),n("div",{staticClass:"text-base font-medium text-gray-2"},[t._v("\n          "+t._s(t.currentSong.title)+"\n        ")])]):t._e(),t._v(" "),n("v-progress-circular",{staticClass:"text-gray-2 cursor-pointer",attrs:{rotate:-90,size:40,width:4,value:t.timePercent},on:{click:function(e){t.isSongPlaying?t.pauseSong():t.playSong()}}},[n("div",{staticClass:"w-full h-full flex items-center justify-center"},[t.isSongPlaying?n("fa-icon",{staticClass:"text-sm",attrs:{icon:"pause"}}):n("fa-icon",{staticClass:"text-sm",attrs:{icon:"play"}})],1)])],1):t._e()])],1)}),[],!1,null,"407d9976",null);e.default=component.exports;v()(component,{VImg:f.a,VProgressCircular:d.a,VSlider:x.a}),_()(component,{Touch:y.a})}},[[250,12,2,13]]]);