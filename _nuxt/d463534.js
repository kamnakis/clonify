(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{362:function(t,e,n){},376:function(t,e,n){"use strict";n(362)},405:function(t,e,n){"use strict";n.r(e);n(16),n(60),n(30),n(39),n(44);var l=n(8),r=n(17),c=Object(r.c)({name:"Songs",middleware:"auth",setup:function(t,e){var n=e.root,filter=Object(r.g)(""),c=Object(r.g)([]),o=Object(r.g)(!1),v=Object(r.g)("");Object(r.h)(o,(function(){o.value||(v.value="")})),Object(r.d)((function(){n.$axios.get("songs").then((function(t){c.value=t.data}))}));var f=Object(r.a)((function(){var t=filter.value.toLowerCase();return c.value.filter((function(e){return e.title.toLowerCase().includes(t)||e.artist.first_name.toLowerCase().includes(t)||e.artist.last_name.toLowerCase().includes(t)}))}));Object(r.d)((function(){n.$store.dispatch("global/setPageTitle","Songs")})),Object(r.e)((function(){n.$store.dispatch("global/setPageTitle","")}));var d=Object(r.g)(!1),y=Object(r.g)([]),_=Object(r.g)(null),x=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$axios.get("playlists/me").then((function(t){y.value=t.data,_.value=y.value[0].id||null}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.h)(d,(function(){d.value&&x()}));var m=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!_.value){t.next=10;break}return t.prev=1,t.next=4,n.$axios.put("playlists/".concat(_.value,"/").concat(e.id));case 4:d.value=!1,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),l=t.t0,o.value=!0,v.value=l;case 10:case"end":return t.stop()}var l}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return{alert:o,error:v,filter:filter,filteredSongs:f,isThisSongPlaying:function(t){return t&&n.$store.getters["player/tracks"].length&&null!==n.$store.getters["player/currentTrack"]&&t.id===n.$store.getters["player/tracks"][n.$store.getters["player/currentTrack"]].id},setSong:function(t){n.$store.dispatch("player/setTracks",[t])},playlistSelectDialog:d,playlists:y,playlist:_,addSongToPlaylist:m}}}),o=(n(376),n(49)),v=n(81),f=n.n(v),d=n(354),y=n(363),_=n(353),x=n(407),m=n(334),h=n(333),k=n(335),S=n(397),w=n(355),C=n(396),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-full flex relative"},[n("div",{staticClass:"absolute inset-0 flex flex-col pt-20 pb-32 text-white list overflow-y-auto"},[t.filteredSongs.length?t._l(t.filteredSongs,(function(e){return n("div",{key:e.id,staticClass:"w-full flex-grow-0 flex items-center cursor-pointer pl-8 pr-4 py-3",class:{"bg-gray-1":t.isThisSongPlaying(e)},on:{click:function(n){return t.setSong(e)}}},[t.isThisSongPlaying(e)?n("div",[n("fa-icon",{staticClass:"text-green-1 mr-4 slideIn",attrs:{icon:"volume-up"}})],1):t._e(),t._v(" "),n("div",{staticClass:"flex flex-col text-gray-200",class:{"text-green-1 slideIn":t.isThisSongPlaying(e)}},[n("span",{staticClass:"text-base font-medium"},[t._v(t._s(e.title))]),t._v(" "),n("span",{staticClass:"text-sm text-opacity-50"},[t._v(t._s(e.artist.first_name)+" "+t._s(e.artist.last_name))])]),t._v(" "),n("div",{staticClass:" text-gray-200 text-opacity-50"},[n("v-menu",{attrs:{"offset-y":"","close-on-content-click":!0},scopedSlots:t._u([{key:"activator",fn:function(e){var l=e.on,r=e.attrs;return[n("fa-icon",t._g(t._b({staticClass:"text-xl cursor-pointer",attrs:{icon:"ellipsis-h"}},"fa-icon",r,!1),l))]}}],null,!0)},[t._v(" "),n("v-list",{attrs:{dense:"","min-width":"6rem"}},[n("v-dialog",{attrs:{dark:""},scopedSlots:t._u([{key:"activator",fn:function(e){var l=e.on,r=e.attrs;return[n("v-list-item",t._g(t._b({staticClass:"flex items-center",attrs:{dense:""}},"v-list-item",r,!1),l),[t._v("\n                    Add to Playlist\n                  ")])]}}],null,!0),model:{value:t.playlistSelectDialog,callback:function(e){t.playlistSelectDialog=e},expression:"playlistSelectDialog"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n                    Select a Playlist\n                  ")]),t._v(" "),n("v-select",{staticClass:"mt-4",attrs:{items:t.playlists,"item-text":"title","item-value":"id",label:"Playlist",dense:"",solo:""},model:{value:t.playlist,callback:function(e){t.playlist=e},expression:"playlist"}}),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.playlistSelectDialog=!1}}},[t._v("\n                      Cancel\n                    ")]),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(n){return t.addSongToPlaylist(e)}}},[t._v("\n                      Add\n                    ")])],1)],1)],1)],1)],1)],1)])})):[n("div",{staticClass:"px-6"},[t._v("\n        No songs available\n      ")])]],2),t._v(" "),n("v-snackbar",{attrs:{timeout:2e3},scopedSlots:t._u([{key:"action",fn:function(e){var l=e.attrs;return[n("v-btn",t._b({attrs:{color:"green",text:""},on:{click:function(e){t.alert=!1}}},"v-btn",l,!1),[t._v("\n        Close\n      ")])]}}]),model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n    "+t._s(t.error)+"\n\n    ")])],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:d.a,VCard:y.a,VCardActions:_.a,VCardTitle:_.b,VDialog:x.a,VList:m.a,VListItem:h.a,VMenu:k.a,VSelect:S.a,VSnackbar:w.a,VSpacer:C.a})}}]);